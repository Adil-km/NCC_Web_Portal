{% extends 'dashboard/base.html' %}
{% load static %}

{% block head %}
<style>
    .card {
        margin: 10px;
    }
    .notice-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .download-btn {
        padding: 6px 12px;
        background-color: #2563eb;
        color: white;
        border-radius: 6px;
        font-size: 13px;
        text-decoration: none;
    }
    .download-btn:hover {
        background-color: #1d4ed8;
    }
</style>
{% endblock head %}

{% block heading %}
    Notice
{% endblock heading %}

{% block body %}
<div class="card">
    <h3 class="card-title card-title-spaced">Cadet Notices</h3>

    <div class="notice-list">

        {% for notice in notices %}
        <div class="notice-item">

            <div style="display:flex; gap:15px; align-items:center;">
                <div class="notice-icon">
                    <!-- Bell Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                         viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                </div>

                <div class="notice-content">
                    <span class="notice-title">{{ notice.name }}</span><br>
                    <span class="notice-meta">{{ notice.description }}</span>
                </div>
            </div>

            <div style="display:flex; gap:12px; align-items:center;">
                <!-- Date Bubble -->
                <span class="notice-tag info">
                    {{ notice.date|date:"d M Y" }}
                </span>

                <!-- Download Button -->
                {% if notice.attachment %}
                <a href="{{ notice.attachment.url }}" download class="download-btn">
                    Download
                </a>
                {% endif %}
            </div>

        </div>
        {% empty %}
        <p style="padding: 10px;">No notices available.</p>
        {% endfor %}

    </div>
</div>
{% endblock body %}

{% extends 'dashboard/base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'dashboard/css/events.css' %}">
{% endblock head %}

{% block heading %}
Manage News & Events
<a href="{% url 'dashboard_upload_event' %}" class="dashboard-btn">Upload News & Events</a>
{% endblock heading %}


{% block body %}
<div class="event-grid">

    {% if events %}
    {% for event in events %}
        <div class="event-item">

            <div class="event-date">
                <p>{{ event.date }}</p>
            </div>
            
            <a class="event-title" href="{% url 'event_detail' event.id %}">
                <p>{{ event.title }}</p>
            </a>


            <div class="actions">
            <form method="GET" action="{% url 'dashboard_edit_event' event.id %}">
              <button type="submit"  class="update">
                <i class="fa-solid fa-pen-to-square"></i>
                <span>Update</span>
              </button>
            </form>

            <form method="POST" action="{% url 'dashboard_delete_event' event.id %}">
              {% csrf_token %}
              <button
                type="submit"
                class="delete"
                onclick="return confirm('Are you sure you want to delete this article?')">
                <i class="fa-solid fa-trash"></i>
                <span>Delete</span>
              </button>
            </form>
          </div>
        
    </div>
    {% endfor %}
    {% else %}
    <p>No news or events found.</p>
    {% endif %}

</div>
{% endblock body %}
    